# 第 9 章 自訂命令與 Git 操作

## 📖 章節簡介

本章將引導你深入了解 Claude Code 的自定義指令系統，從基礎到進階，學習如何打造專屬於自己的 AI 協作工具鏈。透過實作不同複雜度的指令，你將掌握如何讓 Claude Code 按照你的工作流程執行任務。

- [範例專案：taskmaster](https://github.com/FlagTech/F5757_ch09.git)

    ```
    # SSH 下載網址
    git@github.com:FlagTech/F5757_ch09.git
    ```

---

## 🎯 學習目標

- 了解 Claude Code 自定義指令的基本結構
- 學會建立從簡單到複雜的自定義指令
- 掌握互動式流程與條件判斷的設計技巧
- 實作自動化的規劃與執行機制
- 讓 Claude Code 透過自然語言呼叫自定義指令

---

## 📚 章節內容概覽

### 1. 自定義指令基礎：`pack-basic`

從最簡單的指令開始，了解自定義指令的必要元素：
- 指令檔案的存放位置與命名規則
- 基本的指令結構與提示詞撰寫
- 如何定義指令的執行流程
- 簡單的 Git 自動化提交流程

透過 `pack-basic` 指令，你將學會如何讓 Claude Code 自動處理基礎的提交流程。

### 2. 互動式流程：`pack-zh`

進階到具有互動能力的指令設計：
- 如何在指令中加入使用者互動環節
- 條件判斷與流程跳轉的實作
- 分支選擇與提交訊息的智慧生成

`pack-zh` 指令展示了如何建立一個完整的互動式 Git 工作流程，讓 AI 能夠理解你的意圖並協助完成提交。

### 3. 腳本式執行：`pack-direct`

學習如何讓 Claude Code 精準執行預定流程：
- 捨棄多餘推論，直接執行腳本
- 適合需要嚴格控制流程的場景
- 減少 AI 的自主判斷，提高執行可靠性
- 快速完成例行性任務

`pack-direct` 適合用於已經確定的工作流程，確保每次執行都一致。

### 4. 智慧規劃與執行：`auto-fix`

最強大的自定義指令實作：
- 建立具有規劃能力的 AI 工作流程
- 狀態讀取與階段性執行機制
- 自動化的問題分析與解決方案生成
- 從規劃、實作到測試的完整循環

`auto-fix` 指令展示了如何讓 Claude Code 自主規劃並執行複雜的修復任務，是本章的核心成果。

### 5. 自然語言呼叫

最後一哩路：讓指令更智慧
- 設定 Claude Code 辨識特定關鍵字
- 自動判斷何時該呼叫自定義指令
- 讓 AI 理解使用者意圖並選擇適當指令
- 打造更自然的協作體驗

透過適當的設定，你可以用自然語言觸發指令，而不需要每次都明確輸入指令名稱。

---

## 🔗 下一章預告

完成本章的學習後，第 10 章將帶你進入 **GitHub 協作的世界**，學習如何將這些自定義指令整合到 GitHub Actions，實現真正的 CI/CD 自動化流程！
